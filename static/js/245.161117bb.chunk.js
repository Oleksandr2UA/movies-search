"use strict";(self.webpackChunkmovies_search=self.webpackChunkmovies_search||[]).push([[245],{245:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var n=t(43),i=t(216),l=t(475),r=t(204),a=t(623),o=t(613),c=t(855),d=t(968),h=t(579);const g="bg-opacity",u="isNight-theme";const m=e=>{let{closeModal:s,src:t}=e;const[i,l]=(0,n.useState)((()=>function(){const e=localStorage.getItem(g);return null!==e?[JSON.parse(e)]:[.6]}())),[r,a]=(0,n.useState)((()=>function(){const e=localStorage.getItem(u);return null!==e&&JSON.parse(e)}())),[m,x]=(0,n.useState)(!0);(0,n.useEffect)((()=>{document.body.classList.add("no-scroll");const e=e=>{"Escape"===e.code&&s()};return window.addEventListener("keydown",e),()=>{document.body.classList.remove("no-scroll"),window.removeEventListener("keydown",e)}}),[s]);(0,n.useEffect)((()=>{localStorage.setItem(g,JSON.stringify(i[0]))}),[i]),(0,n.useEffect)((()=>{localStorage.setItem(u,JSON.stringify(r))}),[r]);const v=r?"black":"white",j=r?"rgba(255, 255, 250, 0.4)":"black",p=r?"rgba(255, 255, 250, 0.7)":"black",f=r?`rgba(162, 162, 162, ${b=i[0],y=.3,w=1,k=.3,N=.7,k+(w-b)*(N-k)/(w-y)})`:`rgba(0, 0, 0, ${i[0]})`;var b,y,w,k,N;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"overlay",onClick:()=>{s()},style:{backgroundColor:`rgba(0, 0, 0, ${i[0]})`}}),(0,h.jsxs)("div",{className:"modalWindow",style:{backgroundColor:v},children:[(0,h.jsx)("div",{style:{visibility:m?"visible":"hidden"},children:(0,h.jsx)(o.a,{isNight:r,height:"50",width:"50"})}),(0,h.jsx)("iframe",{width:"860",height:"415",onLoad:()=>{console.log("Loaded"),x(!1)},src:t,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),(0,h.jsxs)("div",{className:"settings",style:{color:j},children:[(0,h.jsx)(c.Range,{step:.009,min:.3,max:1,values:i,onChange:function(e){console.log(e),l(e)},renderTrack:e=>{let{props:s,children:t}=e;return(0,h.jsx)("div",{...s,style:{...s.style,height:"6px",width:"150px",backgroundColor:f},children:t})},renderThumb:e=>{let{props:s}=e;return(0,h.jsx)("div",{...s,style:{...s.style,height:"20px",width:"20px",backgroundColor:p}})}}),(0,h.jsx)("label",{htmlFor:"volume",className:"settings-range-label",children:"Make background darker"}),(0,h.jsx)("span",{children:"Switch theme"}),(0,h.jsx)(d.A,{onChange:a,checked:r,onColor:"#0e1112",offColor:"#ffcc33",checkedIcon:(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:18,color:"white",paddingRight:2},children:"\ud83c\udf19"}),uncheckedIcon:(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:18,color:"white",paddingRight:2},children:"\u2600\ufe0f"}),handleDiameter:28,height:40,width:70})]})]})]})};t(818);const x=()=>{var e,s;const[t,c]=(0,n.useState)(!1),[d,g]=(0,n.useState)(null),[u,x]=(0,n.useState)({}),[v,j]=(0,n.useState)(null),[p,f]=(0,n.useState)(!1),{movieId:b}=(0,i.g)(),y=(0,i.zy)(),w=(0,n.useRef)(null!==(e=null===(s=y.state)||void 0===s?void 0:s.from)&&void 0!==e?e:"/movies");return(0,n.useEffect)((()=>{const e=new AbortController;return async function(){try{c(!0);const{movieData:s,video:t}=await(0,a.xu)(b,e);x(s),j(t),g(null)}catch(d){if("canceled"===d.message)return;g("Something went wrong, try reloading page, if it doesnt help, there is no info about this film")}finally{c(!1)}}(),()=>{e.abort()}}),[b]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.N_,{to:w.current,className:"go-back-link",children:"Go back"}),d&&0===Object.keys(u).length&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("h2",{className:"error",children:d})}),t&&(0,h.jsx)(o.a,{}),0!==Object.keys(u).length&&(0,h.jsxs)("div",{className:"movie-details",children:[(0,h.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${u.poster_path}`,width:"200px",height:"300px",alt:"poster"}),(0,h.jsxs)("div",{className:"movie-info",children:[(0,h.jsx)("h1",{children:u.title}),(0,h.jsxs)("p",{className:"movie-stars",children:[u.vote_average.toFixed(1)>=7?(0,h.jsx)(r.gt3,{className:"star"},u.id):u.vote_average.toFixed(1)>=5?(0,h.jsx)(r.gVl,{className:"star"},u.id):(0,h.jsx)(r.wei,{className:"empty-star"},u.id),u.vote_average.toFixed(1)+"/10"]}),(0,h.jsx)("h3",{className:"movie-subtitle",children:"Overview: "}),(0,h.jsx)("p",{children:u.overview}),(0,h.jsx)("button",{onClick:function(){f(!0)},children:"Watch trailer"}),(0,h.jsx)("h4",{className:"movie-genres",children:"Genres:"}),u.genres.map((e=>{let{id:s,name:t}=e;const n=`/movies/${b}/${s}`;return console.log("location: ",y),(0,h.jsx)(l.N_,{to:n,state:{from:y},children:(0,h.jsxs)("span",{children:[t," "]})},s)}))]})]}),!t&&0===Object.keys(u).length&&(0,h.jsx)(o.a,{}),v&&p&&(0,h.jsx)(m,{closeModal:function(){f(!1)},src:v}),0!==Object.keys(u).length&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{children:(0,h.jsx)(l.N_,{to:"cast",className:"sidebar-link",children:"Cast"})}),(0,h.jsx)("p",{children:(0,h.jsx)(l.N_,{to:"reviews",className:"sidebar-link",children:"Reviews"})}),(0,h.jsx)(n.Suspense,{children:(0,h.jsx)(i.sv,{})})]})]})}},818:()=>{}}]);
//# sourceMappingURL=245.161117bb.chunk.js.map