/*! For license information please see 975.8594f0d1.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmovies_search=self.webpackChunkmovies_search||[]).push([[975],{975:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var n=t(43),a=t(216),l=t(475),r=t(925),i=t(613),o=t(496),c=t(683),u=t(31),h=t(579);const d=()=>{var e,s;const{genreId:t}=(0,a.g)(),{movieId:d}=(0,a.g)(),m=(0,a.zy)(),g=`/movies/${d}`,f=(0,n.useRef)(null!==(e=null===(s=m.state)||void 0===s?void 0:s.from)&&void 0!==e?e:g),[j,x]=(0,n.useState)(!1),[w,b]=(0,n.useState)(null),[p,v]=(0,n.useState)([]),[N,k]=(0,n.useState)(1),[S,y]=(0,n.useState)(null),[q,C]=(0,n.useState)(!1),[_,F]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=new AbortController;return async function(){try{x(!0);const s=await(0,c.q)(t,e,1,1);v(s),C(!0),k(2),b(null)}catch(w){if("canceled"===w.message)return;b("Something went wrong, try reloading page, if it doesnt help, there is no info about other films of this actor")}finally{x(!1)}}(),()=>{e.abort()}}),[t]),(0,n.useEffect)((()=>{const e=(0,o.H)([Number(t)]);y(e[0].name)}),[t]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.N_,{to:d?f.current:"/genres",className:"go-back-link",children:"Go back"}),(0,h.jsxs)("h2",{className:"genre-list-title header-page-title",children:["Films with ",(0,h.jsx)("span",{className:"genre-list-title-name",children:S})," ","genre"]}),0!==p.length&&(0,h.jsxs)("div",{className:"scroll_wrapper",children:[(0,h.jsx)(u.Is,{}),(0,h.jsx)(u.e0,{})]}),w&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("h2",{className:"error",children:w})}),j&&(0,h.jsx)(i.a,{}),0!==p.length?(0,h.jsx)(r.n,{films:p,movieId:d}):!j&&(0,h.jsx)(i.a,{}),q&&!j?(0,h.jsx)("button",{type:"button",className:"genre-btn-load",onClick:async function(){C(!1),F(!0);const e=new AbortController;if(2===N){const s=await(0,c.q)(t,e,N,2);v((e=>[...e,...s]))}else if(3===N){const s=await(0,c.q)(t,e,N,3);v((e=>[...e,...s]))}else if(4===N){const s=await(0,c.q)(t,e,N,4);v((e=>[...e,...s]))}k((e=>e+1)),C(4!==N),F(!1)},children:"Load more"}):_&&!j&&0!==p.length?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.a,{})}):null,0!==p.length&&(0,h.jsxs)("div",{className:"scroll_wrapper",children:[(0,h.jsx)(u.eq,{}),(0,h.jsx)(u.e0,{})]})]})}}}]);
//# sourceMappingURL=975.8594f0d1.chunk.js.map